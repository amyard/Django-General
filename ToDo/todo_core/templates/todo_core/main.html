{% extends 'base.html' %}

{% block title %}
    Main page - {{ block.super }}
{% endblock %}



<div class="modal fade" tabindex="-1" role="dialog" id="modal">
  <div class="modal-dialog" role="document">
    <div class="modal-content"></div>
  </div>
</div>



{% block content %}




<div class="content-section mt-5">
		<div class = 'sidebar-content'>
			<h5 class = 'text-center mt-3'>Calendar</h5>
			<br><br><hr>

			<h5 class = 'text-center mt-3'>Projects:</h5>
			<ul class="list-group mb-3">
				{% for project in projects %}
					<li class="list-group-item list-group-item-light">
						<div class="circle" style = 'background-color: {{ project.color|lower }}'></div>
						<a href="">{{ project.title }} - {{ project.color }}</a>

							<div class="float-right">
								<ul class="nav navbar-nav">
											<li class="dropdown">
											<a href="#" data-toggle="dropdown"><i class="fas fa-ellipsis-v fa-lg"></i></a>
												<ul class="dropdown-menu w-100">
													<li><a href="#" class="update-project ml-3" data-id="{% url 'todo:update-project' project.pk %}">Update</a></li>
													<li><a href="#" class="delete-project ml-3" data-id="{% url 'todo:delete-project' project.pk %}">Delete</a></li>
												</ul>
											</li>
										</ul>
							</div>
					</li>

				{% endfor %}
			</ul>

			<br>
			<h6 class='add-project' data-id="{% url 'todo:create-project' %}">+Add category</h6>
			<br>

		</div>
	</div>

{% endblock %}




{% block scripts %}


<script type="text/javascript">
    $(function () {

	//  Create Project
      $(".add-project").each(function () {
        $(this).modalForm({formURL: $(this).data('id')});
      })

	// Delete project buttons
      $(".delete-project").each(function () {
        $(this).modalForm({formURL: $(this).data('id')});
      });


    // Update project buttons
      $(".update-project").each(function () {
        $(this).modalForm({formURL: $(this).data('id')});
      });


    // Delete user buttons
      $(".delete-account").each(function () {
        $(this).modalForm({formURL: $(this).data('id')});
      });

    // Hide message
      $(".alert").fadeTo(3000, 500).slideUp(500, function(){
        $(".alert").slideUp(500);
      });

    });
</script>


{% endblock %}
