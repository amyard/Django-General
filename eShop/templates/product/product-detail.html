{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block title %}
    {{ product.title }} - {{ block.super }}
{% endblock %}



{% block content %}
<div class="list-group mt-4" >
    <a href="{% url 'product:base-view' %}" class = 'mr-2 path'>Home</a>
    > <a href="{{ product.category.get_absolute_url }}" class = 'mr-2 ml-2 path'>{{ product.category }}</a>
    > <a href="{{ product.get_absolute_url }}" class = 'ml-2 path-active'>{{ product.title }}</a>
</div>


<div class="card mt-4 mb-4">
    <div class ='row'>
        <div class="col-lg-5 mt-3 ml-2">
              <img class="card-img-top img-fluid mt-2 mb-2" src="{{ product.image.url }}" alt="">
        </div>

        <div class="col lg-7 mt-3">
              <div class="card-body">
                <h3 class="card-title">{{ product.title }}</h3>
                <p class="card-text">{{ product.description|safe|linebreaks }}</p>
                <hr>
                <h4>Цена: $ {{ product.price }}</h4>

                <div class="separator clear-left user-reaction">
                    <div class="likes-total-info">
                        <i class="fas fa-heart fa-lg"><span id="liked"> {{ product.likes.count }}</span></i>
                    </div>

                    {% if buttons %}
                        <button id="like" class="btn btn-danger ml-3 mb-1" >Dislike</button>
                    {% else %}
                        <button id="like" class="btn btn-success ml-3 mb-1" >Like</button>
                    {% endif %}

                    <input type="hidden" id="product" data-id = '{{ product.id }}'>
                </div>



                <form action="{% url 'cart:cart_add' product.id %}" method="post">
                    {% csrf_token %}
                    {{ cart_product_form }}
                    <input type="submit" value="Добавить в корзину">
                </form>
                <span class="text-warning">&#9733; &#9733; &#9733; &#9733; &#9734;</span> 4.0 stars
              </div>
        </div>
    </div>
</div>



{% endblock %}